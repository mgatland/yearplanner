<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
<style>
	.calendarBlock {
		height: 20px;
		background-color: black;
		display: inline-block;
		position: absolute;
	}
</style>
</head>

<body>
	<div class="container"></div>
  <script>
  	let yearStart = Date.parse("2019-01-01")
  	let events = []
  	events.push(
  		{name:"Year", color: "green", top:0, dates:[
  			{start:"2019-01-01", end:"2019-12-31"}
  		]
  		}
  	)
  	events.push(
  		{name:"University of Auckland", color: "lightblue", top:1, dates:[
  		{start:"2019-03-04", end:"2019-04-12"}, //half semester including exam time
  		{start:"2019-04-28", end:"2019-06-07"},
  		{start:"2019-07-22", end:"2019-08-30"},
  		{start:"2019-09-16", end:"2019-10-25"},
  		]})
  	events.push(
  		{name:"Uni exams", color: "lightblue", top:1, dates:[
  		{start:"2019-06-08", end:"2019-07-01"},
  		{start:"2019-10-26", end:"2019-11-18"},

  		]})
  	events.push(
  		{name:"High School", color: "lightgreen", top:2, dates:[
  		{start:"2019-02-07", end:"2019-04-12"}, //earliest start 2019-01-28
  		{start:"2019-04-29", end:"2019-07-05"},
  		{start:"2019-07-22", end:"2019-09-27"},
  		{start:"2019-10-14", end:"2019-12-02"}, //latest end 2019-12-13
  		]})
  	events.push(
  		{name:"(flex)", color: "#d1f5d1", top:2, dates:[
  		{start:"2019-01-28", end:"2019-02-07"},
  		{start:"2019-12-03", end:"2019-12-13"},
  		]})
  	let scale = 4
  	for (let event of events) {
  		for (let span of event.dates) {
  		let start = convertDate(span.start)
  		let end = convertDate(span.end)
  		let width = (end - start) * scale
  		start = start * scale
  		let elementHTML = `<div class='calendarBlock' style='background-color: ${event.color}; top:${event.top * 20}px; left: ${start}px; width:${width}px'>${event.name}</div>`
  		document.querySelector(".container").innerHTML += elementHTML
  	}
  }

  		let elementHTML = `<div class='calendarBlock girlCode' style='background-color: orange; top:60px; left: 10px; width:${8*7*scale}px'>Girl Code</div>`
  		document.querySelector(".container").innerHTML += elementHTML

  	document.addEventListener("mousedown", mouseDown)
  	document.addEventListener("mousemove", mouseDown)

  	function mouseDown(e) {
  		document.querySelector(".girlCode").style.left = e.clientX + "px"
  	}

	function convertDate(date) {
		return Math.round((Date.parse(date) - yearStart) / 86400000)
	}
  </script>
</body>
</html>